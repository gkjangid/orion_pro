{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule }           from '@angular/core';\nimport { IonicPageModule }    from 'ionic-angular';\nimport { ProfilePage }        from './profile';\nimport { ComponentsModule }   from '../../components/components.module';\n\n@NgModule({\n  declarations: [\n    ProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfilePage),\n    ComponentsModule,\n  ],\n})\nexport class ProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","import { Component }      from '@angular/core';\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  Platform,\n}  from 'ionic-angular';\n\nimport { ApiProvider }  from '../../providers/api/api';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n})\nexport class ProfilePage {\n\n  chartHeight:      number;\n  chartOn:          any = {\n    gauge:    false,\n    barChart: true,\n  };\n  chartWidth:       number;\n  data:             any       = {};\n  loading:          any;\n  selectedSegment:  string    = 'skills';\n  segmentList:      string[]  = [ 'skills', 'subjects' ];\n  showCharts:       any       = {};\n  userProfile:      any       = {};\n\n  chartOptions = {\n\n    BarChart : {\n      width:      null,\n      height:     null,\n      legend:     'none',\n      isStacked:  true,\n      hAxis:      {\n        maxValue: 100,\n      },\n    },\n\n    Gauge: {\n      redFrom:     0,   redTo:     25,\n      yellowFrom: 25,   yellowTo:  50,\n      greenFrom:  50,   greenTo:  100,\n      majorTicks: new Array(11).fill( null ),\n    },\n\n  };\n\n\n  constructor(\n    public api:       ApiProvider,\n    public navCtrl:   NavController,\n    public navParams: NavParams,\n    public platform:  Platform,\n  ) {\n    this.chartOptions.BarChart.height = Math.round( this.platform.height() * 0.7 );\n    this.chartOptions.BarChart.width  = Math.round( this.platform.width()  * 1 );\n  }\n\n  chartReady( event: any, segment: string ): void {\n      this.showCharts[ segment ] = true;\n      if ( this.loading ){\n        this.loading.dismiss();\n        this.loading = null;\n      }\n  }\n\n  get_scores( userProfile: any, type: string ): any[] {\n    let scores  = userProfile ['scores'] [type] || {};\n    let keys    = Object.keys( scores ).sort()\n    let data    = keys.map( key => {\n      const score     = scores [key] [0];\n      const maxScore  = scores [key] [1];\n      const value     = 100 * score / maxScore;\n      return [ key, value ];\n    });\n    if ( data.length == 0 ){\n      data = [[ 'N/A', '' ]];\n    } else {\n      data.sort( ( x, y ) => ( y[1] as number ) - ( x[1] as number ) )\n    }\n    return [\n      [ 'Name', 'Score' ],\n      ...data,\n    ];\n  }\n\n  ionViewDidEnter(){\n    if ( !this.api.user.userId ){\n      this.navCtrl.setRoot( 'LoginPage' );\n      return;\n    }\n    this.loading = this.api.loading( '', 2000, { showBackdrop: false } );\n    this.api.getUserProfile()\n      .subscribe( data => {\n        this.userProfile        = data;\n        this.data[ 'skills' ]   = this.get_scores( data, 'skill' );\n        this.data[ 'subjects']  = this.get_scores( data, 'subjects' );\n      });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}